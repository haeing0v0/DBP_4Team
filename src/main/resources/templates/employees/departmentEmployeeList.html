<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>부서별 직원 목록</title>
</head>
<body>
<h1>부서별 직원 목록</h1>

<!-- 부서 선택 콤보박스 -->
<form action="/employees/department" method="get">
    <label for="department">부서를 선택하세요:</label>
    <select id="department" name="departmentName">
        <option value="">부서 선택</option>
        <option th:each="department : ${departmentNames}"
                th:value="${department.department_name}"
                th:text="${department.department_name}"
                th:selected="${department.department_name == departmentName}">
        </option>
    </select>
    <button type="submit">검색</button>
</form>

<!-- 선택된 부서 이름 표시 -->
<h2 th:if="${departmentName != null && !departmentName.isEmpty()}">선택된 부서: <span th:text="${departmentName}"></span></h2>


<!-- 직원 목록 테이블 -->
<table border="1" th:if="${employees != null}">
    <thead>
    <tr>
        <th>직원 ID</th>
        <th>직원 이름</th>
        <th>전화번호</th>
        <th>이메일</th>
        <th>성별</th>
        <th>근무일수</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="employee : ${employees}">
        <td th:text="${employee.employee_id}"></td>
        <td th:text="${employee.employee_name}"></td>
        <td th:text="${employee.phonenumber}"></td>
        <td th:text="${employee.email}"></td>
        <td th:text="${employee.gender}"></td>
        <td th:text="${employee.workDays}"></td>
    </tr>
    </tbody>
</table>
</body>
</html>
